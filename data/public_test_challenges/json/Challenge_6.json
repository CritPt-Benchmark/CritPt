{
  "dataset_name": "Challenge_6",
  "source_notebook": "data/public_test_challenges/Challenge_6.ipynb",
  "problems": [
    {
      "problem_id": "Challenge_6_main",
      "problem_type": "main",
      "problem_index": null,
      "problem_description": "# Problem setup:\nFor twisted bilayer MoTe$_2$, we can build the following simplified continuum model at $\\text{K}$ valley:\n\\begin{equation}\n\\mathcal{H} = \\int d^2 r\\ ( c^\\dagger_{\\boldsymbol{r},b}, c^\\dagger_{\\boldsymbol{r},t})\\left(\n\\begin{array}{cc}\n\\frac{\\hbar^2 \\nabla^2}{2 m^*} +2 V \\sum_{i=1}^3 \\cos(\\boldsymbol{g}_i\\cdot \\boldsymbol{r}- \\,\\psi) &  w \\sum_{i=1}^3 \\,e^{-i\\,\\boldsymbol{q}_i\\cdot \\boldsymbol{r}} \\\\\nw \\sum_{i=1}^3 \\,e^{i\\,\\boldsymbol{q}_i\\cdot \\boldsymbol{r}}  & \\frac{\\hbar^2 \\nabla^2}{2 m^*} + 2 V \\sum_{i=1}^3 \\cos(\\boldsymbol{g}_i\\cdot \\boldsymbol{r} + \\,\\psi)\n\\end{array}\n\\right) \\left(\\begin{matrix} c_{\\boldsymbol{r},b} \\\\ c_{\\boldsymbol{r},t}\\end{matrix}\\right)\\ ,\n\\end{equation}\nwhere $\\boldsymbol{g}_1 = \\frac{4 \\pi}{\\sqrt{3} a_{M}} (1,0)^T$,  $\\boldsymbol{g}_i = C_3^{i-1} \\boldsymbol{g}_1$ with $C_3$ the three-fold rotation symmetry, $\\boldsymbol{q}_1 = |\\boldsymbol{g}_1| (0, 1/\\sqrt{3})^T $, $\\boldsymbol{q}_i = C_3^{i-1} \\boldsymbol{q}_1$,\n\\begin{equation}\na_M = \\frac{a_0}{2 \\sin\\left( \\frac{\\theta}{2} \\right)} \\ ,\n\\end{equation}\n$\\theta$ is the twist angle, and $a_0=3.52 \\text{\\AA }$ is the lattice constant of the monolayer MoTe$_2$.\n\nWe choose $m^* = 0.6 m_e$ with $m_e$ the mass of an electron, $V=16.5$ meV, $\\psi = -105.9^\\circ$, and $w = -18.8$ meV.\n\n\nConsider a generic isolated set of $N$ bands with projector $P_{\\boldsymbol{k}}$ constructed by the periodic part of the Bloch states.\n\nWe can define the quantum metric as\n\\begin{equation}\ng_{ij}(\\boldsymbol{k}) = \\frac{1}{2}\\mathrm{Tr}[\\partial_{k_i} P_{\\boldsymbol{k}} \\partial_{k_j} P_{\\boldsymbol{k}}]\\ .\n\\end{equation}\n\nThe gauge-invariant part of the Wannier spread of the isolated set of bands is proportional to\n\\begin{equation}\n\\mathop{\\mathrm{Tr}}\\mathcal{G} = \\int d^2 k\\ \\mathop{\\mathrm{Tr}}[g(\\boldsymbol{k})]\\ ,\n\\end{equation}\nwhere the integration ranges over the first Brillouin zone.\n\n# Main problem:\n\nFor $\\theta = 3.5^\\circ$, what are the Chern numbers of the top three bands of the model, respectively?\n\nThe answer can have a global sign freedom owing to the definition of Chern number.\n\nNumerically evaluate $\\mathop{\\mathrm{Tr}}\\mathcal{G}$ for the top electron band (to two decimal places) using the following conventions.\n\nThe set of Bloch momenta $\\boldsymbol{k}$ is\n\\begin{equation}\n\\{ (l_1/L-1/2) \\boldsymbol{b}_1 + (l_2/L-1/2) \\boldsymbol{b}_2 | l_1,l_2 = 0,1,2,...,L-1 \\},\n\\end{equation}\nwith $L=60$, $\\boldsymbol{b}_1 = \\boldsymbol{g}_1$, and $\\boldsymbol{b}_2 = \\boldsymbol{g}_1 + \\boldsymbol{g}_2$.\n\nChoose $\\hbar/(2 m_e) = 7619.96423 \\text{ meV} \\cdot \\AA^2$.\n\nChoose the following Fourier transformation convention\n\\begin{equation}\nc^\\dagger_{\\boldsymbol{r},l} = \\frac{1}{\\sqrt{ \\mathcal{V}}} \\sum_{\\boldsymbol{k},\\boldsymbol{Q}} e^{-\\mathrm{i} (\\boldsymbol{k}-\\boldsymbol{Q})\\cdot \\boldsymbol{r} } c^\\dagger_{\\boldsymbol{k}-\\boldsymbol{Q},l}\\ ,\n\\end{equation}\nwhere $\\mathcal{V}$ is the volume of the whole sample.\n\nChoose all $\\boldsymbol{Q}$ for $c^\\dagger_{\\boldsymbol{k}-\\boldsymbol{Q},t}$ to satisfy (i) $\\boldsymbol{Q}-\\boldsymbol{q}_1$ is a reciprocal lattice vector and (ii) $|\\boldsymbol{Q}|< 4.1 |\\boldsymbol{b}_1|$.\n\nChoose all $\\boldsymbol{Q}$ for $c^\\dagger_{\\boldsymbol{k}-\\boldsymbol{Q},b}$ to satisfy (i) $\\boldsymbol{Q}+\\boldsymbol{q}_1$ is a reciprocal lattice vector and (ii) $|\\boldsymbol{Q}|< 4.1 |\\boldsymbol{b}_1|$.",
      "code_template": "def answer():\n    r\"\"\"\n    Return the value of the Chern numbers of the top three bands and the gauge–invariant Wannier spread TrG.\n\n    Inputs\n    ----------\n    None\n\n    Outputs\n    ----------\n    chern_numbers: tuple[int, int, int]\n        (C1, C2, C3) – Chern numbers of the first, second and third top bands, respectively, up to an overall sign.\n    TrG: float\n        Gauge–invariant part of the Wannier spread for the top electron band, $\\mathop{\\mathrm{Tr}}\\mathcal{G}$, rounded to 2 decimal places.\n    \"\"\"\n\n    # ------------------ FILL IN YOUR RESULTS BELOW ------------------\n    chern_numbers = ...             # three integers\n    TrG = ...                       # float rounded to 2 decimal places\n    # ---------------------------------------------------------------\n\n    return chern_numbers, TrG",
      "answer_code": "def answer():\n    r\"\"\"\n    Return the value of the Chern numbers of the top three bands and the gauge–invariant Wannier spread TrG.\n\n    Inputs\n    ----------\n    None\n\n    Outputs\n    ----------\n    chern_numbers: tuple[int, int, int]\n        (C1, C2, C3) – Chern numbers of the first, second and third top bands, respectively, up to an overall sign.\n    TrG: float\n        Gauge–invariant part of the Wannier spread for the top electron band, $\\mathop{\\mathrm{Tr}}\\mathcal{G}$, rounded to 2 decimal places.\n    \"\"\"\n\n    # ------------------ FILL IN YOUR RESULTS BELOW ------------------\n    chern_numbers = ...             # three integers\n    TrG = ...                       # float rounded to 2 decimal places\n    # ---------------------------------------------------------------\n\n    return chern_numbers, TrG",
      "answer_only_code": "",
      "testcases": null,
      "metadata": {
        "settings": {},
        "tag": "",
        "problem_setup": "# Problem setup:\nFor twisted bilayer MoTe$_2$, we can build the following simplified continuum model at $\\text{K}$ valley:\n\\begin{equation}\n\\mathcal{H} = \\int d^2 r\\ ( c^\\dagger_{\\boldsymbol{r},b}, c^\\dagger_{\\boldsymbol{r},t})\\left(\n\\begin{array}{cc}\n\\frac{\\hbar^2 \\nabla^2}{2 m^*} +2 V \\sum_{i=1}^3 \\cos(\\boldsymbol{g}_i\\cdot \\boldsymbol{r}- \\,\\psi) &  w \\sum_{i=1}^3 \\,e^{-i\\,\\boldsymbol{q}_i\\cdot \\boldsymbol{r}} \\\\\nw \\sum_{i=1}^3 \\,e^{i\\,\\boldsymbol{q}_i\\cdot \\boldsymbol{r}}  & \\frac{\\hbar^2 \\nabla^2}{2 m^*} + 2 V \\sum_{i=1}^3 \\cos(\\boldsymbol{g}_i\\cdot \\boldsymbol{r} + \\,\\psi)\n\\end{array}\n\\right) \\left(\\begin{matrix} c_{\\boldsymbol{r},b} \\\\ c_{\\boldsymbol{r},t}\\end{matrix}\\right)\\ ,\n\\end{equation}\nwhere $\\boldsymbol{g}_1 = \\frac{4 \\pi}{\\sqrt{3} a_{M}} (1,0)^T$,  $\\boldsymbol{g}_i = C_3^{i-1} \\boldsymbol{g}_1$ with $C_3$ the three-fold rotation symmetry, $\\boldsymbol{q}_1 = |\\boldsymbol{g}_1| (0, 1/\\sqrt{3})^T $, $\\boldsymbol{q}_i = C_3^{i-1} \\boldsymbol{q}_1$,\n\\begin{equation}\na_M = \\frac{a_0}{2 \\sin\\left( \\frac{\\theta}{2} \\right)} \\ ,\n\\end{equation}\n$\\theta$ is the twist angle, and $a_0=3.52 \\text{\\AA }$ is the lattice constant of the monolayer MoTe$_2$.\n\nWe choose $m^* = 0.6 m_e$ with $m_e$ the mass of an electron, $V=16.5$ meV, $\\psi = -105.9^\\circ$, and $w = -18.8$ meV.\n\n\nConsider a generic isolated set of $N$ bands with projector $P_{\\boldsymbol{k}}$ constructed by the periodic part of the Bloch states.\n\nWe can define the quantum metric as\n\\begin{equation}\ng_{ij}(\\boldsymbol{k}) = \\frac{1}{2}\\mathrm{Tr}[\\partial_{k_i} P_{\\boldsymbol{k}} \\partial_{k_j} P_{\\boldsymbol{k}}]\\ .\n\\end{equation}\n\nThe gauge-invariant part of the Wannier spread of the isolated set of bands is proportional to\n\\begin{equation}\n\\mathop{\\mathrm{Tr}}\\mathcal{G} = \\int d^2 k\\ \\mathop{\\mathrm{Tr}}[g(\\boldsymbol{k})]\\ ,\n\\end{equation}\nwhere the integration ranges over the first Brillouin zone.",
        "notebook_path": "data/public_test_challenges/Challenge_6.ipynb"
      }
    }
  ]
}